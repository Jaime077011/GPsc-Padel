<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ragab Padel Tournament</title>
    
    <!-- 1. STYLES (Tailwind CSS) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Confetti Library for the Intro -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Outfit', 'sans-serif'],
            },
            colors: {
              padel: {
                blue: '#005580',
                dark: '#0f172a',
                accent: '#bef264', // Lime green
                court: '#3b82f6',
              }
            },
            animation: {
                'bounce-slow': 'bounce 3s infinite',
            }
          }
        }
      }
    </script>

    <style>
        /* Custom Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        
        @keyframes scaleUp {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .animate-scale-up {
            animation: scaleUp 0.5s ease-out forwards;
        }
        
        .podium-card {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="bg-slate-900 text-white antialiased selection:bg-padel-accent selection:text-padel-dark flex flex-col min-h-screen">

    <!-- INTRO / PODIUM OVERLAY -->
    <div id="intro-overlay" class="fixed inset-0 z-[100] bg-slate-950/95 flex items-center justify-center hidden opacity-0 transition-opacity duration-700">
        <div class="max-w-4xl w-full mx-4 relative">
            <button onclick="closeIntro()" class="absolute -top-12 right-0 text-slate-400 hover:text-white transition-colors">
                ‚úï Close
            </button>
            
            <div class="text-center mb-10 animate-fade-in">
                <h1 class="text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-yellow-400 to-yellow-600 mb-2 uppercase tracking-widest">
                    Tournament Winners
                </h1>
                <p class="text-slate-400">The champions of Ragab Padel Tournament 2025</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-end justify-center h-auto md:h-96">
                <!-- 2nd Place (Silver) -->
                <div id="winner-silver" class="order-2 md:order-1 flex flex-col items-center animate-scale-up" style="animation-delay: 0.2s">
                    <div class="w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-slate-300 bg-slate-800 flex items-center justify-center mb-4 shadow-[0_0_20px_rgba(203,213,225,0.3)]">
                        <span class="text-2xl md:text-4xl font-bold text-slate-300">2</span>
                    </div>
                    <div class="bg-slate-800/80 p-6 rounded-xl border border-slate-600 w-full text-center relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-full h-1 bg-slate-300"></div>
                        <h3 class="text-xl font-bold text-white mb-1 team-name">Team Name</h3>
                        <p class="text-sm text-slate-400">Silver Medalist</p>
                    </div>
                </div>

                <!-- 1st Place (Gold) -->
                <div id="winner-gold" class="order-1 md:order-2 flex flex-col items-center animate-scale-up z-10 -mt-10 md:-mt-0" style="animation-delay: 0.5s">
                    <div class="text-5xl mb-2 animate-bounce-slow">üëë</div>
                    <div class="w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-yellow-400 bg-gradient-to-b from-yellow-500/20 to-slate-900 flex items-center justify-center mb-4 shadow-[0_0_30px_rgba(250,204,21,0.5)] relative">
                        <span class="text-4xl md:text-5xl font-bold text-yellow-400">1</span>
                    </div>
                    <div class="bg-gradient-to-b from-slate-800 to-slate-900 p-8 rounded-xl border border-yellow-500/50 w-full text-center relative overflow-hidden transform md:-translate-y-4 shadow-2xl">
                        <div class="absolute top-0 left-0 w-full h-1 bg-yellow-400"></div>
                        <h3 class="text-2xl font-bold text-white mb-1 team-name">Team Name</h3>
                        <p class="text-sm text-yellow-400 font-bold tracking-wider">CHAMPION</p>
                    </div>
                </div>

                <!-- 3rd Place (Bronze) -->
                <div id="winner-bronze" class="order-3 flex flex-col items-center animate-scale-up" style="animation-delay: 0.3s">
                    <div class="w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-amber-600 bg-slate-800 flex items-center justify-center mb-4 shadow-[0_0_20px_rgba(217,119,6,0.3)]">
                        <span class="text-2xl md:text-4xl font-bold text-amber-600">3</span>
                    </div>
                    <div class="bg-slate-800/80 p-6 rounded-xl border border-amber-800/50 w-full text-center relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-full h-1 bg-amber-600"></div>
                        <h3 class="text-xl font-bold text-white mb-1 team-name">Team Name</h3>
                        <p class="text-sm text-amber-600/80">Bronze Medalist</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-12 text-center">
                <button onclick="closeIntro()" class="px-8 py-3 bg-padel-accent text-slate-900 font-bold rounded-full hover:bg-white hover:scale-105 transition-all duration-300 shadow-lg shadow-padel-accent/20">
                    Explore Schedule
                </button>
            </div>
        </div>
    </div>

    <!-- 2. NAVBAR -->
    <nav class="sticky top-0 z-40 bg-slate-900/90 backdrop-blur-md border-b border-slate-800 shadow-lg">
        <div class="max-w-5xl mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-padel-accent rounded-full flex items-center justify-center text-slate-900 font-bold text-lg">
                        R
                    </div>
                    <span class="font-bold text-xl tracking-tight text-white hidden xs:block">
                        Ragab<span class="text-padel-accent">Padel</span>
                    </span>
                </div>
                
                <!-- Tabs -->
                <div class="flex items-center gap-2">
                    <button onclick="switchTab('SCHEDULE')" id="btn-schedule" class="px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center gap-2 bg-slate-800 text-padel-accent shadow-sm ring-1 ring-slate-700">
                        <span>üìÖ</span> Matches
                    </button>
                    <button onclick="switchTab('STANDINGS')" id="btn-standings" class="px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center gap-2 text-slate-400 hover:text-white hover:bg-slate-800/50">
                        <span>üèÜ</span> Standings
                    </button>
                    <!-- Hidden button for Podium, shows if finalized -->
                    <button onclick="showIntro()" id="btn-podium" class="hidden px-3 py-2 rounded-md text-sm font-medium text-yellow-400 hover:bg-yellow-400/10 border border-yellow-400/20">
                        ü•á Winners
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- 3. MAIN CONTENT -->
    <main id="app-content" class="max-w-5xl mx-auto px-4 py-6 flex-grow">
        <!-- Content will be injected here by JavaScript -->
    </main>

    <!-- 4. FOOTER -->
    <footer class="border-t border-slate-800 mt-auto py-8 text-center text-slate-500 text-sm">
        <p>¬© 2025 Ragab Padel Tournament.</p>
        <p class="text-xs mt-1 opacity-50">Managed via local configuration.</p>
    </footer>

    <!-- 5. JAVASCRIPT LOGIC & DATA -->
    <script>
        // ==========================================
        // TOURNAMENT CONFIGURATION (EDIT HERE)
        // ==========================================
        
        const TEAMS = [
            // --- GROUP A (5 Teams) ---
            { id: 'a1', name: 'ÿ®ÿ±ŸäŸÖŸäÿØŸäŸàŸÜ 2', group: 'A', color: 'bg-blue-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'a2', name: 'ÿßŸÑÿßÿØÿßÿ±ÿ© ÿßŸÑŸÇÿßŸÜŸàŸÜŸäÿ©', group: 'A', color: 'bg-blue-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'a3', name: 'ÿßŸÑÿßÿ¥ÿ±ÿßŸÅ', group: 'A', color: 'bg-blue-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'a4', name: 'ÿßÿØÿßÿ±ÿ© ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ 1', group: 'A', color: 'bg-blue-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'a5', name: 'ÿ≥ŸäŸÜŸÖÿß 2', group: 'A', color: 'bg-blue-600', players: ['Player 1', 'Player 2', 'Sub'] },

            // --- GROUP B (5 Teams) ---
            { id: 'b1', name: 'ÿ®ÿ±ŸäŸÖŸäÿØŸäŸàŸÜ 1', group: 'B', color: 'bg-red-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'b2', name: 'ÿßŸÑÿßÿØÿßÿ±ÿ© ÿßŸÑŸáŸÜÿØÿ≥Ÿäÿ© 1', group: 'B', color: 'bg-red-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'b3', name: 'ÿ≠ÿ≥ÿßÿ®ÿßÿ™ ÿßŸÑŸÅŸÜÿßÿØŸÇ 1', group: 'B', color: 'bg-red-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'b4', name: 'ÿßŸÑÿßÿØÿßÿ±ÿ© ÿßŸÑŸÖÿßŸÑŸäÿ© 1', group: 'B', color: 'bg-red-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'b5', name: 'ÿßŸÑŸÖŸÄŸÑÿßÿπŸÄÿ® 2', group: 'B', color: 'bg-red-600', players: ['Player 1', 'Player 2', 'Sub'] },

            // --- GROUP C (5 Teams) ---
            { id: 'c1', name: 'ÿ±ÿ¨ÿ® ŸÖŸàÿ™Ÿàÿ±ÿ≤', group: 'C', color: 'bg-green-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'c2', name: 'ÿßŸÑÿßÿØÿßÿ±ÿ© ÿßŸÑŸáŸÜÿØÿ≥Ÿäÿ© 2', group: 'C', color: 'bg-green-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'c3', name: 'ÿ≠ÿ≥ÿßÿ®ÿßÿ™ ÿßŸÑŸÅŸÜÿßÿØŸÇ 2', group: 'C', color: 'bg-green-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'c4', name: 'ÿ±ŸäÿØ ÿ±Ÿàÿ≤', group: 'C', color: 'bg-green-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'c5', name: 'ÿ≥ŸäŸÜŸÖÿß 1', group: 'C', color: 'bg-green-600', players: ['Player 1', 'Player 2', 'Sub'] },

            // --- GROUP D (4 Teams) ---
            { id: 'd1', name: 'ŸáŸäŸÑÿ™ŸàŸÜ ', group: 'D', color: 'bg-purple-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'd2', name: 'ÿßŸÑÿßÿØÿßÿ±ÿ© ÿßŸÑŸÖÿßŸÑŸäÿ© 2', group: 'D', color: 'bg-purple-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'd3', name: 'ÿßÿØÿßÿ±ÿ© ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ 2', group: 'D', color: 'bg-purple-600', players: ['Player 1', 'Player 2', 'Sub'] },
            { id: 'd4', name: 'ÿßŸÑŸÖŸÄŸÑÿßÿπŸÄÿ® 1', group: 'D', color: 'bg-purple-600', players: ['Player 1', 'Player 2', 'Sub'] },
        ];

        /* 
           HOW TO EDIT MATCHES:
           1. TIME: Format 'YYYY-MM-DDTHH:MM:SS'.
           2. FINISHED MATCH:
              - Change status: 'SCHEDULED' -> 'FINISHED'
              - Add scores: [{t1: 6, t2: 4}, {t1: 6, t2: 2}]
              - Add winnerId: 'a1' (Winning Team ID)
        */
        const MATCHES = [
            // --- TUESDAY (Nov 25) ---
            { id: 'm1', t1: 'b3', t2: 'b4', time: '2025-11-25T17:00:00', round: 'Group B', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'b3' },
            { id: 'm2', t1: 'a3', t2: 'a4', time: '2025-11-25T17:00:00', round: 'Group A', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'a4' },
            { id: 'm3', t1: 'c4', t2: 'c3', time: '2025-11-25T17:20:00', round: 'Group C', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'c4' },

            { id: 'm4', t1: 'd1', t2: 'd2', time: '2025-11-25T17:20:00', round: 'Group D', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'd1' },
            { id: 'm5', t1: 'a1', t2: 'a2', time: '2025-11-25T17:40:00', round: 'Group A', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'a2' },
            { id: 'm6', t1: 'd3', t2: 'd4', time: '2025-11-25T17:40:00', round: 'Group D', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'd4' },

            { id: 'm7', t1: 'b2', t2: 'b1', time: '2025-11-25T18:00:00', round: 'Group B', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'b1' },
            { id: 'm8', t1: 'a1', t2: 'a3', time: '2025-11-25T18:00:00', round: 'Group A', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'a1' },
            { id: 'm9', t1: 'a2', t2: 'a5', time: '2025-11-25T18:20:00', round: 'Group A', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'a2' },

            { id: 'm10', t1: 'b2', t2: 'b5', time: '2025-11-25T18:20:00', round: 'Group B', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'b5' },
            { id: 'm11', t1: 'b3', t2: 'b1', time: '2025-11-25T18:40:00', round: 'Group B', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'b3' },

            { id: 'm12', t1: 'c5', t2: 'c2', time: '2025-11-25T18:40:00', round: 'Group C', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'c5' },
            { id: 'm13', t1: 'd1', t2: 'd3', time: '2025-11-25T19:00:00', round: 'Group D', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'd1' },
            { id: 'm14', t1: 'd2', t2: 'd4', time: '2025-11-25T19:00:00', round: 'Group D', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'd4' },

            { id: 'm15', t1: 'a1', t2: 'a4', time: '2025-11-25T19:20:00', round: 'Group A', status: 'FINISHED', scores: [{t1: 1, t2: 2}], winnerId: 'a4' },
            { id: 'm16', t1: 'a3', t2: 'a5', time: '2025-11-25T19:20:00', round: 'Group A', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'a5' },
            { id: 'm17', t1: 'b1', t2: 'b4', time: '2025-11-25T19:40:00', round: 'Group B', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'b1' },

            { id: 'm18', t1: 'b3', t2: 'b5', time: '2025-11-25T19:40:00', round: 'Group B', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'b5' },
            { id: 'm19', t1: 'c3', t2: 'c5', time: '2025-11-25T20:00:00', round: 'Group C', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'c5' },

            // --- WEDNESDAY (Nov 26) ---
            { id: 'm20', t1: 'd1', t2: 'd4', time: '2025-11-26T17:00:00', round: 'Group D', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'd1' },
            { id: 'm21', t1: 'd2', t2: 'd3', time: '2025-11-26T17:20:00', round: 'Group D', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'd2' },
            { id: 'm22', t1: 'c1', t2: 'c2', time: '2025-11-26T12:20:00', round: 'Group C', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'c1' },

            { id: 'm23', t1: 'a2', t2: 'a4', time: '2025-11-26T17:00:00', round: 'Group A', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'a2' },
            { id: 'm24', t1: 'b1', t2: 'b5', time: '2025-11-26T18:00:00', round: 'Group B', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'b5' },

            { id: 'm25', t1: 'b2', t2: 'b4', time: '2025-11-26T17:40:00', round: 'Group B', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'b4' },
            { id: 'm26', t1: 'c1', t2: 'c5', time: '2025-11-26T18:00:00', round: 'Group C', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'c1' },
            { id: 'm27', t1: 'c2', t2: 'c4', time: '2025-11-26T12:00:00', round: 'Group C', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'c4' },

            { id: 'm28', t1: 'c3', t2: 'c1', time: '2025-11-26T12:00:00', round: 'Group C', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'c1' },
            { id: 'm29', t1: 'a1', t2: 'a5', time: '2025-11-26T18:40:00', round: 'Group A', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'a5' },

            { id: 'm30', t1: 'a4', t2: 'a5', time: '2025-11-26T17:40:00', round: 'Group A', status: 'FINISHED', scores: [{t1: 1, t2: 2}], winnerId: 'a5' },
            { id: 'm31', t1: 'b2', t2: 'b3', time: '2025-11-26T17:20:00', round: 'Group B', status: 'FINISHED', scores: [{t1: 0, t2: 2}], winnerId: 'b3' },
            { id: 'm32', t1: 'b5', t2: 'b4', time: '2025-11-26T18:20:00', round: 'Group B', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'b5' },
            { id: 'm33', t1: 'c4', t2: 'c5', time: '2025-11-26T18:20:00', round: 'Group C', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'c4' },
            { id: 'm34', t1: 'c1', t2: 'c4', time: '2025-11-26T18:40:00', round: 'Group C', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'c1' },
            { id: 'm35', t1: 'a2', t2: 'a3', time: '2025-11-26T17:00:00', round: 'Group A', status: 'FINISHED', scores: [{t1: 2, t2: 0}], winnerId: 'a2' },
           
            // --- QUARTER FINALS ---
             { id: 'qf1', t1: 'a2', t2: 'b3', time: '2025-12-02T17:00:00', round: 'Quarter Final 1', status: 'FINISHED', scores: [{t1: 3, t2: 0}], winnerId: 'a2' },
             { id: 'qf2', t1: 'b5', t2: 'a5', time: '2025-12-02T17:00:00', round: 'Quarter Final 2', status: 'FINISHED', scores: [{t1: 3, t2: 2}], winnerId: 'b5' },
             { id: 'qf3', t1: 'c1', t2: 'd4', time: '2025-12-02T17:30:00', round: 'Quarter Final 3', status: 'FINISHED', scores: [{t1: 2, t2: 3}], winnerId: 'd4' },
             { id: 'qf4', t1: 'd1', t2: 'c4', time: '2025-12-02T17:30:00', round: 'Quarter Final 4', status: 'FINISHED', scores: [{t1: 3, t2: 0}], winnerId: 'd1' },

            // --- SEMI FINALS ---
             { id: 'sf1', t1: 'b5', t2: 'a2', time: '2025-12-02T18:00:00', round: 'Semi Final 1', status: 'FINISHED', scores: [{t1: 1, t2: 3}], winnerId: 'a2' },
             { id: 'sf2', t1: 'd1', t2: 'd4', time: '2025-12-02T18:00:00', round: 'Semi Final 2', status: 'FINISHED', scores: [{t1: 3, t2: 0}], winnerId: 'd1' },

            // --- 3rd & 4th PLACE MATCH (NEW) ---
            // Loser SF1 (b5) vs Loser SF2 (d4)
             { id: 'm_3rd', t1: 'b5', t2: 'd4', time: '2025-12-02T18:15:00', round: '3rd Place Match', status: 'FINISHED', scores: [{t1: 4, t2: 3}], winnerId: 'b5' },

            // --- FINAL ---
            // Winner SF1 (a2) vs Winner SF2 (d1)
             { id: 'final', t1: 'd1', t2: 'a2', time: '2025-12-02T18:30:00', round: 'Grand Final', status: 'FINISHED', scores: [{t1: 4, t2: 0}], winnerId: 'd1' },
        ];

        // ==========================================
        // LOGIC & RENDERING (DO NOT EDIT BELOW)
        // ==========================================
        
        function getTeam(id) {
            return TEAMS.find(t => t.id === id) || { name: 'TBD', color: 'bg-gray-500', players: [] };
        }

        function formatDate(isoString) {
            const d = new Date(isoString);
            return d.toLocaleDateString('en-US', { weekday: 'short', hour: '2-digit', minute: '2-digit', hour12: false });
        }

        function generateStatusBadge(status) {
            if (status === 'LIVE') {
                return `<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-red-500/20 text-red-400 animate-pulse border border-red-500/30"><span class="w-1.5 h-1.5 rounded-full bg-red-500 mr-1.5"></span>LIVE</span>`;
            } else if (status === 'FINISHED') {
                return `<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-700 text-slate-300">FT</span>`;
            }
            return `<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-padel-blue/30 text-blue-200 border border-blue-500/20">${status}</span>`;
        }

        function generateMatchCard(match) {
            const t1 = getTeam(match.t1);
            const t2 = getTeam(match.t2);
            const isLive = match.status === 'LIVE';
            const isFinished = match.status === 'FINISHED';
            const t1Won = match.winnerId === t1.id;
            const t2Won = match.winnerId === t2.id;
            
            // Special styling for finals
            const isFinal = match.id === 'final';
            const borderClass = isFinal ? 'border-yellow-500/50 shadow-[0_0_15px_rgba(234,179,8,0.1)]' : 'border-slate-700/50';

            // Generate Scores HTML
            let scoresHtml1 = '';
            let scoresHtml2 = '';
            
            if (isLive || isFinished) {
                scoresHtml1 = `<div class="flex gap-2 text-lg font-mono">` + 
                    match.scores.map(s => `<span class="w-6 text-center ${s.t1 > s.t2 ? 'text-padel-accent' : 'text-slate-400'}">${s.t1}</span>`).join('') + 
                    `</div>`;
                scoresHtml2 = `<div class="flex gap-2 text-lg font-mono">` + 
                    match.scores.map(s => `<span class="w-6 text-center ${s.t2 > s.t1 ? 'text-padel-accent' : 'text-slate-400'}">${s.t2}</span>`).join('') + 
                    `</div>`;
            }

            return `
                <div class="bg-slate-800/50 rounded-xl ${borderClass} border overflow-hidden hover:border-padel-accent/50 transition-colors duration-300 mb-4">
                    <div class="bg-slate-800/80 px-4 py-2 flex justify-between items-center text-xs text-slate-400 border-b border-slate-700/50">
                        <div class="flex items-center gap-2">
                            <span class="font-semibold ${isFinal ? 'text-yellow-400' : 'text-padel-accent/80'}">${match.round}</span>
                            <span>‚Ä¢</span>
                            
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="font-mono text-white">${formatDate(match.time)}</span>
                            ${generateStatusBadge(match.status)}
                        </div>
                    </div>
                    <div class="p-4">
                        <!-- Team 1 -->
                        <div class="flex justify-between items-center mb-3 ${t1Won ? 'font-bold text-white' : 'text-slate-300'}">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold ${t1.color}">
                                    ${t1.name.substring(0, 2).toUpperCase()}
                                </div>
                                <div class="flex flex-col">
                                    <span class="text-base leading-tight">${t1.name}</span>

                                </div>
                            </div>
                            ${scoresHtml1}
                        </div>
                        <!-- Team 2 -->
                        <div class="flex justify-between items-center ${t2Won ? 'font-bold text-white' : 'text-slate-300'}">
                            <div class="flex items-center gap-3">
                                <div class="w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold ${t2.color}">
                                    ${t2.name.substring(0, 2).toUpperCase()}
                                </div>
                                <div class="flex flex-col">
                                    <span class="text-base leading-tight">${t2.name}</span>

                                </div>
                            </div>
                            ${scoresHtml2}
                        </div>
                    </div>
                </div>
            `;
        }

        // --- Views Render Logic ---

        function renderSchedule() {
            const container = document.getElementById('app-content');
            const live = MATCHES.filter(m => m.status === 'LIVE');
            const scheduled = MATCHES.filter(m => m.status === 'SCHEDULED');
            const finished = MATCHES.filter(m => m.status === 'FINISHED');

            let html = '<div class="animate-fade-in space-y-8 pb-20">';

            // Live Section
            if (live.length > 0) {
                html += `
                    <section>
                        <div class="flex items-center gap-2 mb-4">
                            <span class="relative flex h-3 w-3">
                                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                                <span class="relative inline-flex rounded-full h-3 w-3 bg-red-500"></span>
                            </span>
                            <h2 class="text-xl font-bold text-white uppercase tracking-wider">Happening Now</h2>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${live.map(m => generateMatchCard(m)).join('')}
                        </div>
                    </section>
                `;
            }

            // Scheduled Section
            html += `
                <section>
                    <h2 class="text-xl font-bold text-white mb-4 uppercase tracking-wider border-l-4 border-padel-accent pl-3">Upcoming</h2>
                    ${scheduled.length === 0 
                        ? '<div class="bg-slate-800/30 rounded-lg p-8 text-center text-slate-400">No matches scheduled.</div>' 
                        : `<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">${scheduled.map(m => generateMatchCard(m)).join('')}</div>`
                    }
                </section>
            `;

            // Finished Section
            if (finished.length > 0) {
                // Separate finals/3rd place for highlight? Optionally, just put them first.
                // We'll just sort by time reversed so recent matches (finals) appear first
                finished.sort((a,b) => new Date(b.time) - new Date(a.time));
                
                html += `
                    <section>
                        <h2 class="text-xl font-bold text-slate-400 mb-4 uppercase tracking-wider">Completed</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 opacity-90 transition-opacity">
                            ${finished.map(m => generateMatchCard(m)).join('')}
                        </div>
                    </section>
                `;
            }

            html += '</div>';
            container.innerHTML = html;
        }

        function renderStandings() {
            const container = document.getElementById('app-content');
            const groups = ['A', 'B', 'C', 'D'];
            
            let html = `
                <div class="animate-fade-in space-y-10 pb-20">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-white uppercase tracking-widest">Standings</h2>
                        <p class="text-slate-400">Group Stage Leaderboards</p>
                    </div>
            `;

            groups.forEach(groupId => {
                const groupTeams = TEAMS.filter(t => t.group === groupId);
                
                // Calculate Stats
                const stats = groupTeams.map(team => {
                    // IMPORTANT: Only count matches that are part of the GROUP stage
                    const teamMatches = MATCHES.filter(m => (m.t1 === team.id || m.t2 === team.id) && m.status === 'FINISHED' && m.round.includes('Group'));
                    
                    const wins = teamMatches.filter(m => m.winnerId === team.id).length;
                    const losses = teamMatches.length - wins;
                    // 3 pts for Win, 1 pt for playing but losing
                    const points = (wins * 3) + (losses * 0);
                    return { ...team, played: teamMatches.length, wins, losses, points };
                }).sort((a, b) => b.points - a.points);

                html += `
                    <div class="bg-slate-800 rounded-xl border border-slate-700 overflow-hidden shadow-xl mb-8">
                        <div class="p-4 bg-gradient-to-r from-slate-900 to-slate-800 border-b border-slate-700 flex justify-between items-center">
                            <h3 class="text-xl font-bold text-white flex items-center gap-2">
                                <span class="bg-padel-accent text-slate-900 w-8 h-8 rounded flex items-center justify-center text-sm">${groupId}</span>
                                Group ${groupId}
                            </h3>
                            <span class="text-xs text-slate-500 font-mono">${groupTeams.length} Teams</span>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left">
                                <thead>
                                    <tr class="bg-slate-900/50 text-slate-400 text-[10px] uppercase tracking-wider">
                                        <th class="p-3 font-semibold">#</th>
                                        <th class="p-3 font-semibold">Team</th>
                                        <th class="p-3 font-semibold text-center">P</th>
                                        <th class="p-3 font-semibold text-center">W</th>
                                        <th class="p-3 font-semibold text-center">L</th>
                                        <th class="p-3 font-semibold text-right">Pts</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-700/50">
                                    ${stats.map((team, index) => `
                                        <tr class="hover:bg-slate-700/30 transition-colors">
                                            <td class="p-3 text-slate-500 font-mono text-sm">${index + 1}</td>
                                            <td class="p-3">
                                                <div class="flex items-center gap-3">
                                                    <div class="w-6 h-6 rounded-full ${team.color} flex items-center justify-center text-white text-[10px] font-bold">
                                                        ${team.name.substring(0, 2).toUpperCase()}
                                                    </div>
                                                    <div>
                                                        <div class="font-bold text-white text-sm">${team.name}</div>
                                                        
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="p-3 text-center text-slate-300 text-sm">${team.played}</td>
                                            <td class="p-3 text-center text-green-400 text-sm">${team.wins}</td>
                                            <td class="p-3 text-center text-red-400 text-sm">${team.losses}</td>
                                            <td class="p-3 text-right font-bold text-padel-accent text-base">${team.points}</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                `;
            });

            html += `
                <div class="grid grid-cols-2 gap-4 text-center">
                    <div class="bg-slate-800/50 p-4 rounded-lg border border-slate-700/50">
                        <h3 class="text-padel-accent font-bold text-sm uppercase mb-1">Win</h3>
                        <p class="text-white font-mono text-lg">3 Pts</p>
                    </div>
                    <div class="bg-slate-800/50 p-4 rounded-lg border border-slate-700/50">
                        <h3 class="text-padel-accent font-bold text-sm uppercase mb-1">Loss</h3>
                        <p class="text-white font-mono text-lg">0 Pt</p>
                    </div>
                </div>
                </div>
            `;
            container.innerHTML = html;
        }

        // --- Tab Switching ---
        function switchTab(tabName) {
            const btnSched = document.getElementById('btn-schedule');
            const btnStand = document.getElementById('btn-standings');

            // Reset styles
            const activeClass = "bg-slate-800 text-padel-accent shadow-sm ring-1 ring-slate-700";
            const inactiveClass = "text-slate-400 hover:text-white hover:bg-slate-800/50";
            
            btnSched.className = `px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center gap-2 ${tabName === 'SCHEDULE' ? activeClass : inactiveClass}`;
            btnStand.className = `px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center gap-2 ${tabName === 'STANDINGS' ? activeClass : inactiveClass}`;

            if (tabName === 'SCHEDULE') {
                renderSchedule();
            } else {
                renderStandings();
            }
        }
        
        // --- Intro / Podium Logic ---
        
        function getPodiumData() {
            const final = MATCHES.find(m => m.id === 'final');
            const third = MATCHES.find(m => m.id === 'm_3rd');
            
            if (final && final.status === 'FINISHED' && third && third.status === 'FINISHED') {
                // Winner of Final is 1st
                const goldId = final.winnerId;
                // Loser of Final is 2nd
                const silverId = final.t1 === goldId ? final.t2 : final.t1;
                // Winner of 3rd Place is 3rd
                const bronzeId = third.winnerId;
                
                return {
                    gold: getTeam(goldId),
                    silver: getTeam(silverId),
                    bronze: getTeam(bronzeId)
                };
            }
            return null;
        }

        function showIntro() {
            const podium = getPodiumData();
            if (!podium) return;

            const overlay = document.getElementById('intro-overlay');
            
            // Populate Data
            document.querySelector('#winner-gold .team-name').textContent = podium.gold.name;
            document.querySelector('#winner-silver .team-name').textContent = podium.silver.name;
            document.querySelector('#winner-bronze .team-name').textContent = podium.bronze.name;
            
            // Show Overlay
            overlay.classList.remove('hidden');
            // Trigger Fade In
            setTimeout(() => {
                overlay.classList.remove('opacity-0');
            }, 10);
            
            // Trigger Confetti
            setTimeout(() => {
                triggerConfetti();
            }, 500);
        }

        function closeIntro() {
            const overlay = document.getElementById('intro-overlay');
            overlay.classList.add('opacity-0');
            setTimeout(() => {
                overlay.classList.add('hidden');
            }, 700);
        }
        
        function triggerConfetti() {
            const duration = 3000;
            const end = Date.now() + duration;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#bef264', '#fbbf24', '#ffffff']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#bef264', '#fbbf24', '#ffffff']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());
        }

        // --- INITIALIZE ---
        switchTab('SCHEDULE');
        
        // Check if podium is ready and update UI
        const podiumData = getPodiumData();
        if (podiumData) {
            document.getElementById('btn-podium').classList.remove('hidden');
            // Auto show intro on load if it's the first time? (Optional)
            // For now, let's just show it automatically to demonstrate the feature
            setTimeout(showIntro, 500); 
        }

    </script>
</body>
</html>